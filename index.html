<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
	<meta name="renderer" content="webkit"/>
	<meta name="format-detection" content="telephone=no"/>
	<meta name="viewport" content="initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
	<title>DEMO - ajax获取json数据</title>
    <link rel="stylesheet" href="./css/common.css">
    <link rel="stylesheet" type="text/css" href="./css/index.css">
	<meta name="google-site-verification" content="2v2b-8ma3sxVzH8TAl7ebxgM91sxNbXU0Kd5GAVeuCc" />

	<style>
        dd p { padding:5px 0;}
        dd a { display: block;height:36px;}
    </style>
</head>
<body>
    <div class="header">
        <ul class="layout header_nav">
            <li class="left">xx 商城</li>
        </ul>
    </div>
    <div class="container content">
        <div class="layout">
            <h3>产品列表</h3>
            <div class="product_list clearfloat">
            </div>
        </div>
    </div>
    <div style="height:150px;"></div>


<script src="./js/jquery.js"></script>
<script src="./js/cookie.js"></script>
<script src="./js/server.js"></script>
<script>
    $(function(){
        $.ajax({
            type: "GET",
            url: "./data/cart.json",
            dataType: "json", 
            success: function(res) {
                //1.加载数据成功 进行字符串拼接
                $(".product_list").html("");
                $.each(res,function (idx,item) {
                    $(".product_list").append(
                        "<dl><dt><a href='product-list.html?id="
                        + item.id + "'><img src='"
                        + item.img + "'></a></dt><dd><a href='#'>"
                        + item.ENname + "</a><p><b>"
                        + item.price1 + "</b> &nbsp; <span>"
                        + item.price3 + "</span></p><strong>"
                        + item.num + "</strong><a class='details-btn' href='product-list.html?id="
                        + item.id + "'>详情</a></dd></dl>"
                    )     
                })
            },
            error: function(){ alert("error") }        
        });
    })
</script>

</body>
</html>
